<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Documentation</title>

    <link type="text/css" rel="stylesheet" href="assets/css/reset.css">
    <link type="text/css" rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
    <link type="text/css" rel="stylesheet" href="assets/css/docs.css">
    <link type="text/css" rel="stylesheet" href="assets/css/print.css" media="print">
    

    <script type="text/javascript" src="assets/js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="http://yandex.st/highlightjs/6.1/highlight.min.js"></script>
    <script type="text/javascript" src="assets/js/lunr.min.js"></script>

    

    <script type="text/javascript">var BASE_URL = "";</script>
    <script type="text/javascript" src="assets/js/viewer.js"></script>

    
</head>
<body>
    <div id="page">
        <a name="top" />
        <header id="header">
			<div style="overflow:hidden">
				<div style="float:left">
					<img src="assets/img/logo.png"/>
					
				</div>	
				<div style="float:left;padding-top: 15px;padding-left: 30px;">
		            <h1><a href="">Documentation</a></h1>

				</div>
			</div>
        </header>
        

<div id="sidebar">
    <form action="search.html"><input id="search" type="text" placeholder="Search" name="q" /></form>
    <nav id="toc">
        
    <ol>
    
        <li>
            <a href="01-0-introduction.html">Introduction</a>
            
                
    <ol>
    
        <li>
            <a href="01-1-whats-new-3.html">What's new in 3.0?</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="01-2-migrationto3.html">Upgrading from 2.x versions</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="01-3-gettingstarted.html">Getting Started (Tutorial)</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-0-distributed-data-structures.html">Distributed Data Structures</a>
            
                
    <ol>
    
        <li>
            <a href="02-1-0-map.html">Distributed Map</a>
            
                
    <ol>
    
        <li>
            <a href="02-1-10-mapentry.html">Entry Statistics</a>
            
        </li>
    
        <li>
            <a href="02-1-11-mapinmemoryformat.html">In Memory Format</a>
            
        </li>
    
        <li>
            <a href="02-1-1-mapbackup.html">Backups</a>
            
        </li>
    
        <li>
            <a href="02-1-2-mapeviction.html">Eviction</a>
            
        </li>
    
        <li>
            <a href="02-1-3-mappersistence.html">Persistence</a>
            
        </li>
    
        <li>
            <a href="02-1-4-mapquery.html">Query</a>
            
        </li>
    
        <li>
            <a href="02-1-5-mapindex.html">Indexing</a>
            
        </li>
    
        <li>
            <a href="02-1-6-mapcontinuousquery.html">Continuous Query</a>
            
        </li>
    
        <li>
            <a href="02-1-7-mapentryprocessor.html">Entry Processor</a>
            
        </li>
    
        <li>
            <a href="02-1-8-mapinterceptor.html">Interceptors</a>
            
        </li>
    
        <li>
            <a href="02-1-9-mapnearcache.html">Near Cache</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-2-0-queue.html">Distributed Queue</a>
            
                
    <ol>
    
        <li>
            <a href="02-2-0-queue.html">Persistence</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-3-0-multimap.html">Distributed MultiMap</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-4-0-topic.html">Distributed Topic</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-5-0-set.html">Distributed Set</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-6-0-list.html">Distributed List</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-7-0-lock.html">Distributed Lock</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-8-0-events.html">Distributed Events</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="03-0-serialization.html">Serialization</a>
            
                
    <ol>
    
        <li>
            <a href="03-1-dataserializable.html">Data Serializable</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="03-2-portable.html">Portable Serialization</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="03-3-custom.html">Custom Serialization</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="04-0-dataaffinity.html">Data Affinity</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="05-0-jmx.html">Monitoring with JMX</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="06-0-clusterutilities.html">Cluster Utilities</a>
            
                
    <ol>
    
        <li>
            <a href="06-1-clusterinterface.html">Cluster Interface</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="06-2-idgenerator.html">Cluster-wide Id Generator</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="07-0-transactions.html">Transactions</a>
            
                
    <ol>
    
        <li>
            <a href="07-1-transactioninterface.html">Transaction Interface</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="07-2-jeeintegration.html">J2EE Integration</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="08-0-executorservice.html">Distributed Executor Service</a>
            
                
    <ol>
    
        <li>
            <a href="08-1-distributedexecution.html">Distributed Execution</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="08-2-executioncancellation.html">Execution Cancellation</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="08-3-executioncallback.html">Execution Callback</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="09-0-httpsessionclustering.html">Http Session Clustering with HazelcastWM</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="10-0-wanreplication.html">WAN Replication</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="11-0-spi.html">Service Provider Interface</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-0-config.html">Configuration</a>
            
                
    <ol>
    
        <li>
            <a href="12-1-configgroup.html">Creating Separate Clusters</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-2-0-networkconfig.html">Network Configuration</a>
            
                
    <ol>
    
        <li>
            <a href="12-2-1-configtcpip.html">Configuring TCP/IP Cluster</a>
            
        </li>
    
        <li>
            <a href="12-2-2-configspecifyinterfaces.html">Specifying Network Interfaces</a>
            
        </li>
    
        <li>
            <a href="12-2-3-ec2autodiscovery.html">EC2 Auto Discovery</a>
            
        </li>
    
        <li>
            <a href="12-2-4-networkpartitioning.html">Network Partitioning (Split-Brain Syndrome)</a>
            
        </li>
    
        <li>
            <a href="12-2-5-ssl.html">SSL</a>
            
        </li>
    
        <li>
            <a href="12-2-6-encryption.html">Encryption</a>
            
        </li>
    
        <li>
            <a href="12-2-7-socketinterceptor.html">Socket Interceptor</a>
            
        </li>
    
        <li>
            <a href="12-2-8-ipv6.html">IPv6 Support</a>
            
        </li>
    
        <li>
            <a href="12-2-9-outboundports.html">Restricting Outbound Ports</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-3-partitiongroupconfig.html">Partition Group Configuration</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-4-listenerconfig.html">Listener Configurations</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-5-wildcardconfiguration.html">Wildcard Configuration</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-6-configurationproperties.html">Advanced Configuration Properties</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-7-logging.html">Logging Configuration</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="12-8-enterpriseconfig.html">Setting License Key &lt;sup&gt;(Enterprise Edition Only)&lt;/sup&gt;</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="13-0-hibernatesecondlevelcache.html">Hibernate Second Level Cache</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="14-0-springintegration.html">Spring Integration</a>
            
                
    <ol>
    
        <li>
            <a href="14-1-springconfig.html">Configuration</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="14-2-springcontext.html">Spring Managed Context</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="14-3-springcache.html">Spring Cache</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="14-4-springhibernate.html">Hibernate 2nd Level Cache Config</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="14-5-springjpa.html">Spring Data - JPA</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="14-6-springmongodb.html">Spring Data - MongoDB</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="15-0-clients.html">Clients</a>
            
                
    <ol>
    
        <li>
            <a href="15-1-nativeclient.html">Native Client</a>
            
                
    <ol>
    
        <li>
            <a href="15-1-nativeclient.html">Java Client</a>
            
        </li>
    
        <li>
            <a href="15-1-nativeclient.html">CSharp Client &lt;sup&gt;(Enterprise Edition Only)&lt;/sup&gt;</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="15-2-memcacheclient.html">Memcache Client</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="15-3-restclient.html">Rest Client</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-0-managementcenter.html">Management Center</a>
            
                
    <ol>
    
        <li>
            <a href="16-1-introduction.html">Introduction</a>
            
                
    <ol>
    
        <li>
            <a href="16-1-introduction.html">Installation</a>
            
        </li>
    
        <li>
            <a href="16-1-introduction.html">User Administration</a>
            
        </li>
    
        <li>
            <a href="16-1-introduction.html">Tool Overview</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-2-maps.html">Maps</a>
            
                
    <ol>
    
        <li>
            <a href="16-2-maps.html">Monitoring Maps</a>
            
        </li>
    
        <li>
            <a href="16-2-maps.html">Map Browser</a>
            
        </li>
    
        <li>
            <a href="16-2-maps.html">Map Configuration</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-3-queues.html">Queues</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-4-topics.html">Topics</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-5-members.html">Members</a>
            
                
    <ol>
    
        <li>
            <a href="16-5-members.html">Monitoring</a>
            
        </li>
    
        <li>
            <a href="16-5-members.html">Operations</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-6-logs.html">System Logs</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-7-scripting.html">Scripting</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-8-timetravel.html">Time Travel</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="16-9-console.html">Console</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="17-0-misc.html">Miscellaneous</a>
            
                
    <ol>
    
        <li>
            <a href="17-1-commongotchas.html">Common Gotchas</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="17-2-clustertesthowto.html">Testing Cluster</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="17-3-todo.html">Planned Features</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

            
        </li>
    
</ol>

    </nav>
    
    <nav id="links">
        <ul>
            
        </ul>
    </nav>
    
</div>

        <div id="content">
            <a name="query"></a><h3>Query</h3>
<p>Hazelcast partitions your data and spreads across cluster of servers. You can surely iterate over the map entries and look for certain entries you are interested in but this is not very efficient as you will have to bring entire entry set and iterate locally. Instead, Hazelcast allows you to run distributed queries on your distributed map.</p>
<p>Let&#39;s say you have a &quot;employee&quot; map containing values of <code>Employee</code> objects:</p>
<pre><code class="lang-java">import java.io.Serializable;

public class Employee implements Serializable {
private String name;
private int age;
private boolean active;
private double salary;

public Employee(String name, int age, boolean live, double price) {
    this.name = name;
    this.age = age;
    this.active = live;
    this.salary = price;
}

public Employee() {
}

public String getName() {
    return name;
}

public int getAge() {
    return age;
}

public double getSalary() {
    return salary;
}

public boolean isActive() {
    return active;
}
}</code></pre>
<p>Now you are looking for the employees who are active and with age less than 30. Hazelcast allows you to find these entries in two different ways:</p>
<p><strong>Distributed SQL Query</strong></p>
<p><code>SqlPredicate</code> takes regular SQL where clause. Here is an example:</p>
<pre><code class="lang-java">import com.hazelcast.core.IMap;
import com.hazelcast.query.SqlPredicate;

Config cfg = new Config();
HazelcastInstance hz = Hazelcast.newHazelcastInstance(cfg);
IMap map = hz.getMap(&quot;employee&quot;);

Set&lt;Employee&gt; employees = (Set&lt;Employee&gt;) map.values(new SqlPredicate(&quot;active AND age &lt; 30&quot;));</code></pre>
<p>Supported SQL syntax:</p>
<ul>
<li><p>AND/OR</p>
<ul>
<li><p><code>&lt;expression&gt; AND &lt;expression&gt; AND &lt;expression&gt;...</code></p>
<ul>
<li><p><code>active AND age&gt;30</code></p>
</li>
<li><p><code>active=false OR age = 45 OR name = &#39;Joe&#39;</code></p>
</li>
<li><p><code>active AND (age &gt;20 OR salary &lt; 60000)</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>=, !=, &lt;, &lt;=, &gt;, &gt;=</code></p>
<ul>
<li><p><code>&lt;expression&gt; = value</code></p>
<ul>
<li><p><code>age &lt;= 30</code></p>
</li>
<li><p><code>name =&quot;Joe&quot;</code></p>
</li>
<li><p><code>salary != 50000</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>BETWEEN</p>
<ul>
<li><p><code>&lt;attribute&gt; [NOT] BETWEEN &lt;value1&gt; AND &lt;value2&gt;</code></p>
<ul>
<li><p><code>age BETWEEN 20 AND 33 (same as age &gt;=20  AND age&lt;=33)</code></p>
</li>
<li><p><code>age NOT BETWEEN 30 AND 40 (same as age &lt;30 OR age&gt;40)</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>LIKE</p>
<ul>
<li><p><code>&lt;attribute&gt; [NOT] LIKE &#39;expression&#39;</code></p>
<p><code>%</code> (percentage sign) is placeholder for many characters, <code>_</code> (underscore) is placeholder for only one character.</p>
<ul>
<li><p><code>name LIKE &#39;Jo%&#39;</code> (true for &#39;Joe&#39;, &#39;Josh&#39;, &#39;Joseph&#39; etc.)</p>
</li>
<li><p><code>name LIKE &#39;Jo_&#39;</code> (true for &#39;Joe&#39;; false for &#39;Josh&#39;)</p>
</li>
<li><p><code>name NOT LIKE &#39;Jo_&#39;</code> (true for &#39;Josh&#39;; false for &#39;Joe&#39;)</p>
</li>
<li><p><code>name LIKE &#39;J_s%&#39;</code> (true for &#39;Josh&#39;, &#39;Joseph&#39;; false &#39;John&#39;, &#39;Joe&#39;)</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>IN</p>
<ul>
<li><p><code>&lt;attribute&gt; [NOT] IN (val1, val2,...)</code></p>
<ul>
<li><p><code>age IN (20, 30, 40)</code></p>
</li>
<li><p><code>age NOT IN (60, 70)</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Examples:</p>
<ul>
<li><p><code>active AND (salary &gt;= 50000 OR (age NOT BETWEEN 20 AND 30))</code></p>
</li>
<li><p><code>age IN (20, 30, 40) AND salary BETWEEN (50000, 80000)</code></p>
</li>
</ul>
<p><strong>Criteria API</strong></p>
<p>If SQL is not enough or programmable queries are preferred then JPA criteria like API can be used. Here is an example:</p>
<pre><code class="lang-java">import com.hazelcast.core.IMap;
import com.hazelcast.query.Predicate;
import com.hazelcast.query.PredicateBuilder;
import com.hazelcast.query.EntryObject;
import com.hazelcast.config.Config;


Config cfg = new Config();
HazelcastInstance hz = Hazelcast.newHazelcastInstance(cfg);
IMap map = hz.getMap(&quot;employee&quot;);

EntryObject e = new PredicateBuilder().getEntryObject();
Predicate predicate = e.is(&quot;active&quot;).and(e.get(&quot;age&quot;).lessThan(30));

Set&lt;Employee&gt; employees = (Set&lt;Employee&gt;) map.values(predicate);</code></pre>




        </div>
        <footer id="footer">
            Powered by <a href="http://github.com/maximebf/beautiful-docs">beautiful-docs</a> -
            <a href="#top">Back to top</a>
            - <a href="?print=1">Print current page</a> - <a href="all.html?print=1">Print all pages</a>
        </footer>
    </div>
</body>
</html>
